# 数学試験ページ わかりやすさ重視テンプレート 使い方ガイド v2.1

## ファイルの紹介
- **メインテンプレート**: `math_flexible_template.html`
- **以前のテンプレート**: `math_template.html` （参考用）

## 基本的な使い方

### 1. 基本情報を入れ替えよう！
以下のプレースホルダーを実際の内容に書き換えてください：

```
{{YEAR}} → 2023
{{R_YEAR}} → R5
{{SUBJECT_OVERVIEW}} → その年度の問題の特徴や概要を親しみやすく説明
```

### 2. 各大問のパターンを選びましょう！

#### パターンの種類
- **PATTERN_SINGLE**: 小問なし（一つの大きな問題）
- **PATTERN_2SUB**: (1)(2)の2小問構成
- **PATTERN_3SUB**: (1)(2)(3)の3小問構成  
- **PATTERN_MULTI**: 複数部分に分かれた問題（例：前提問題＋小問）

#### パターンの選び方
1. 使いたいパターンのコメント `<!-- =================== PATTERN_XXX START =================== -->` を探しましょう
2. その部分のコメント `<!-- -->` を削除して使えるようにします
3. 使わないパターンは削除しちゃいましょう（またはコメントのままでOK）

### 3. プレースホルダーを置き換えよう！

#### 基本的なプレースホルダー
```
{{PROBLEM_X_Y}} → 問題文（X=大問番号, Y=小問番号）
{{HINT_X_Y}} → ヒント文
{{SOLUTION_X_Y_STEPZ}} → 解答ステップ（Z=ステップ番号）
{{FORMULA_X_Y_Z}} → 数式
{{ANSWER_X_Y}} → 最終答え
{{TIPS_X_POINTY}} → ポイント（Y=番号）
{{TIPS_X_TIPY}} → チップス（Y=番号）
```

#### 特別な場合に使うもの
```
{{PROBLEM_X_MAIN}} → 大問の主要問題文
{{SUMMARY_X}} → 大問の総括
{{ALT_SOLUTION_X_Y}} → 別解
```

## 年度ごとのカスタマイズ例

### 2022年風（とっても親しみやすいスタイル）
```html
<!-- ヒントの例 -->
<p>このままでは $x \to 0$ のとき「$\infty - \infty$」という形の<strong>不定形</strong>になってしまいます。こういう場合は、まず式を変形して一つの分数にまとめ、<strong>マクローリン展開</strong>や<strong>ロピタルの定理</strong>が使える形に持っていくのが定石です。今回はマクローリン展開を使ってみましょう！</p>
```

### 2015年風（しっかりした内容も親しみやすく）
```html
<!-- ヒントの例 -->
<p>この微分方程式、ちょっと複雑に見えるかもしれませんが、実はコツがあるんです！$y$ が直接出てこなくて、$y'$ と $y''$ だけが出てくるのがポイントです。こんな時は $v = y'$ と置き換えて、1階の微分方程式に変身させちゃいましょう！</p>
```

### 2020年風（幾何・計算がメインのスタイル）
```html
<!-- パラメータ表示曲線の場合 -->
<div class="solution-step">
    まず、$x$ と $y$ をそれぞれ微分してみましょう！
    <div class="math-block">
    $$x = a \cos^3 t, \quad \frac{dx}{dt} = a \cdot 3 \cos^2 t \cdot (-\sin t) = -3a \cos^2 t \sin t$$
    </div>
</div>
```

## 構造をカスタマイズしてみよう！

### 解答ステップを追加したい時
解説をもっと詳しくしたい時は、`solution-step` を追加してください：
```html
<div class="solution-step">
    3. {{SOLUTION_1_1_STEP3}}
    <div class="math-block">$${{FORMULA_1_1_3}}$$</div>
</div>
```

### 別の解き方を追加したい時
```html
<div class="accordion" id="alt-solution-1-1">
    <div class="accordion-header" onclick="toggleAccordion('alt-solution-1-1')">
        <span>別解（ロピタルの定理による解法）</span>
        <span class="accordion-arrow">▶</span>
    </div>
    <div class="accordion-content">
        <p>{{ALT_SOLUTION_1_1}}</p>
    </div>
</div>
```

### ポイントやチップスを追加したい時
```html
<li>{{TIPS_1_POINT2}}</li>
<li>{{TIPS_1_POINT3}}</li>
```

## よくあるカスタマイズパターン

### パターンA: 極限・積分問題（2小問）
- PATTERN_2SUB を使いましょう
- 各小問でヒント＋丁寧な解答でサポート

### パターンB: 微分方程式（複数部分に分かれた構成）
- PATTERN_MULTI を使いましょう
- 前提となる問題＋(1)(2)の小問という構成

### パターンC: 行列・線形代数（一つの大きな問題）
- PATTERN_SINGLE を使いましょう
- 長めの解答ステップでじっくり解説

### パターンD: ラプラス変換（3小問）
- PATTERN_3SUB を使いましょう（コメントを外してください）
- 公式を中心とした解答ですっきり理解

## 気をつけてほしいこと

1. **HTMLコメントの整理**: 使わないパターンは削除しちゃいましょう
2. **ID の重複に注意**: アコーディオンのIDは重複しないようにしてください
3. **数式のチェック**: MathJax記法が正しいか確認しましょう
4. **スマホ対応**: 長い数式は適切に改行して見やすく

## 困った時の対処法

### よくあるトラブル
1. **数式が表示されない** → MathJaxの書き方をチェックしてみてください
2. **レイアウトが崩れる** → HTMLタグがちゃんと閉じられているか確認してください
3. **アコーディオンが動かない** → script.jsがちゃんと読み込まれているか確認してください

### 最終チェックリスト
- [ ] プレースホルダーを全部置き換えた
- [ ] 使わないコメントを整理した
- [ ] 数式が正しく書けている
- [ ] スマホでもちゃんと表示される

## 親しみやすい解説のコツ

### 使うと良い表現
- 「〜ですね！」「一緒に頑張りましょう！」
- 「〜してみましょう」「なるほど！」
- 「実は〜なんです」「ここがポイントです！」
- 「ちょっと複雑に見えますが」「コツがあるんです」

### 避けた方が良い表現
- 「〜である」「以下に示す」などの硬い表現
- 「明らかに」「自明」などの突き放した表現
- 専門用語だけで説明すること

学習者が「一緒に問題を解いている」感覚になるように、優しく寄り添う気持ちで書いてくださいね！