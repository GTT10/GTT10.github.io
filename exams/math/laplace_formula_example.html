<!-- (3) 公式を使った図1の関数のラプラス変換（詳細解法） -->
<div class="solution-section">
  <h2>(3) 公式を使った図1の関数のラプラス変換（詳細解法）</h2>

  <h3>1. 関数の定義を再確認</h3>
  <p>図1で示された関数 <span class="math-block">$$f(t)$$</span> は：</p>
  <div class="math-block">
    $$
    f(t) = \begin{cases}
    0, & 0 \leq t < 1 \\
    -(t^2 - 4t + 3), & 1 \leq t < 3 \\
    0, & t \geq 3
    \end{cases}
    $$
  </div>
  <p>放物線部分を因数分解すると：</p>
  <div class="math-block">$$-(t^2 - 4t + 3) = -(t-1)(t-3)$$</div>

  <h3>2. 使用する公式の確認</h3>
  <ul>
    <li><strong>(1)</strong> <span class="math-block">$$\mathcal{L}[f(t-a)u(t-a)] = e^{-as}\mathcal{L}[f(t)]$$</span></li>
    <li><strong>(2)</strong> <span class="math-block">$$\mathcal{L}[f(t)u(t-a)] = e^{-as}\mathcal{L}[f(t+a)]$$</span></li>
  </ul>
  <p>今回は<strong>公式(2)を主に使用</strong>します。これにより複雑な積分計算を回避できます。</p>

  <h3>3. 関数を単位ステップ関数で表現</h3>
  <p><strong>基本形への変換</strong></p>
  <div class="math-block">$$f(t) = [-(t-1)(t-3)] \cdot [u(t-1) - u(t-3)]$$</div>
  <p><strong>分解による表現</strong></p>
  <div class="math-block">$$f(t) = g(t)u(t-1) - g(t)u(t-3)$$</div>
  <p>ここで <span class="math-block">$$g(t) = -(t-1)(t-3)$$</span> とします。</p>
  <div class="point-box">
    <strong>重要ポイント：</strong> <span class="math-block">$$g(t)$$</span> は元の放物線関数全体を表し、単位ステップ関数が「窓」の役割を果たします。
  </div>

  <h3>4. 公式(2)の適用</h3>
  <p><strong>ラプラス変換の分解</strong></p>
  <div class="math-block">$$\mathcal{L}[f(t)] = \mathcal{L}[g(t)u(t-1)] - \mathcal{L}[g(t)u(t-3)]$$</div>
  <p><strong>公式(2)の適用</strong></p>
  <div class="math-block">$$\mathcal{L}[f(t)] = e^{-s}\mathcal{L}[g(t+1)] - e^{-3s}\mathcal{L}[g(t+3)]$$</div>
  <p>公式(2)では、<span class="math-block">$$u(t-a)$$</span> の <span class="math-inline">a</span> が指数の係数となり、関数内部では <span class="math-inline">t</span> を <span class="math-inline">t+a</span> にシフトします。</p>

  <h3>5. シフトした関数の計算</h3>
  <p><strong>g(t+1) の計算</strong></p>
  <div class="math-block">$$g(t) = -(t-1)(t-3)$$</div>
  <div class="math-block">$$g(t+1) = -((t+1)-1)((t+1)-3) = -t(t-2) = -t^2 + 2t$$</div>
  <p><strong>g(t+3) の計算</strong></p>
  <div class="math-block">$$g(t+3) = -((t+3)-1)((t+3)-3) = -(t+2)t = -t^2 - 2t$$</div>
  <div class="point-box">
    <strong>計算の確認：</strong><br>
    g(t+1): 係数が (-1, +2, 0)<br>
    g(t+3): 係数が (-1, -2, 0)
  </div>

  <h3>6. 基本ラプラス変換の適用</h3>
  <ul>
    <li><span class="math-block">$$\mathcal{L}[1] = \frac{1}{s}$$</span></li>
    <li><span class="math-block">$$\mathcal{L}[t] = \frac{1}{s^2}$$</span></li>
    <li><span class="math-block">$$\mathcal{L}[t^2] = \frac{2}{s^3}$$</span></li>
  </ul>
  <p><strong>各シフト関数のラプラス変換</strong></p>
  <div class="math-block">$$\mathcal{L}[g(t+1)] = -\mathcal{L}[t^2] + 2\mathcal{L}[t] = -\frac{2}{s^3} + \frac{2}{s^2} = \frac{2(s-1)}{s^3}$$</div>
  <div class="math-block">$$\mathcal{L}[g(t+3)] = -\mathcal{L}[t^2] - 2\mathcal{L}[t] = -\frac{2}{s^3} - \frac{2}{s^2} = \frac{-2(s+1)}{s^3}$$</div>

  <h3>7. 最終結果の統合</h3>
  <div class="math-block">$$\mathcal{L}[f(t)] = e^{-s} \cdot \frac{2(s-1)}{s^3} + e^{-3s} \cdot \frac{2(s+1)}{s^3}$$</div>
  <div class="math-block">$$\boxed{F(s) = \frac{2e^{-s}(s-1) + 2e^{-3s}(s+1)}{s^3}}$$</div>
</div>
